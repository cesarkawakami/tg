{% extends "base.html" %}

{% block subtitle %}Contestants{% end %}

{% block content %}
    <div class="page-header">
        <h1>Contestants</h1>
    </div>
    <div class="row">
        <div class="span5">
            <h3>Quick Add</h3>
            <form class="form-stacked" action="/admin/users" method="post" data-ajaxify>
                {% raw xsrf_form_html() %}
                <fieldset>
                    <div class="clearfix">
                        <label>type</label>
                        <div class="input">
                            <ul class="inputs-list">
                                <li>
                                    <label>
                                        <input type="radio" name="type" value="admin">
                                        <span>admin</span>
                                    </label>
                                </li>
                                <li>
                                    <label>
                                        <input type="radio" name="type" value="contestant" checked>
                                        <span>contestant</span>
                                    </label>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="clearfix">
                        <label>username</label>
                        <div class="input">
                            <input class="span4" name="username" type="text">
                        </div>
                    </div>
                    <div class="clearfix">
                        <label>password</label>
                        <div class="input">
                            <input class="span4" name="password" type="text">
                        </div>
                    </div>
                    <div class="actions">
                        <input type="submit" class="btn primary" value="Go">
                    </div>
                </fieldset>
            </form>
        </div>
        <div class="span11">
            <h2>Contestant List</h2>
            <table class="zebra-striped">
                <thead>
                    <th>id</th>
                    <th>username</th>
                    <th>actions</th>
                </thead>
                <tbody>
                    {% for contestant in contestants %}
                        <tr>
                            <td>{{ contestant["_id"] }}</td>
                            <td>{{ contestant["username"] }}</td>
                            <td>
                                <a href="/admin/users/{{ contestant['_id'] }}/delete"
                                   data-ajaxify>
                                    delete
                                </a>
                            </td>
                        </tr>
                    {% end %}
                </tbody>
            </table>

            <h2>Admin List</h2>
            <table class="zebra-striped">
                <thead>
                    <th>id</th>
                    <th>username</th>
                    <th>actions</th>
                </thead>
                <tbody>
                    {% for admin_ in admins %}
                        <tr>
                            <td>{{ admin_["_id"] }}</td>
                            <td>{{ admin_["username"] }}</td>
                            <td>
                                <a href="/admin/users/{{ admin_['_id'] }}/delete"
                                   data-ajaxify>
                                    delete
                                </a>
                            </td>
                        </tr>
                    {% end %}
                </tbody>
            </table>
        </div>
    </div>
{% end %}
